<!DOCTYPE html>
<html lang="fr">
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>E-maquis Admin</title>
    <script src="js/confetti.js"></script>
    <%- include('partial/head.ejs') %>
  </head>
  <body class="crm_body_bg">
    <style>
      .sidebar .logo .large_logo img {
        width: 70%;
        margin-left: 15%;
      }
    </style>

    <%- include('partial/sidebar.ejs') %>

    <!--/ sidebar  -->

    <section class="main_content dashboard_part large_header_bg">
      <!-- menu  -->
      <%- include('partial/notif.ejs') %>
      <div styl="postion:absolute;inset:0;" id="confetti"></div>
      <!--/ menu  -->
      <div class="main_content_iner overly_inner">
        <div class="container-fluid p-0">
          <!-- page title  -->
          <div class="row">
            <div class="col-12">
              <div
                class="page_title_box d-flex flex-wrap align-items-center justify-content-between"
              >
                <div class="page_title_left d-flex align-items-center">
                  <h3 class="f_s_25 f_w_700 dark_text mr_30">
                    Tableau de bord
                  </h3>
                  <ol class="breadcrumb page_bradcam mb-0">
                    <li class="breadcrumb-item">
                      <a href="javascript:void(0);">Acceuil</a>
                    </li>
                    <li class="breadcrumb-item active">Analyse</li>
                  </ol>
                </div>
                <div class="page_title_right">
                  <div class="page_date_button d-flex align-items-center">
                    <img src="img/icon/calender_icon.svg" alt="" />
                    1 Août 2021
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-8">
              <div class="white_card mb_30 card_height_100">
                <div class="white_card_header">
                  <div
                    class="row align-items-center justify-content-between flex-wrap"
                  >
                    <div class="col-lg-4">
                      <div class="main-title">
                        <h3 class="m-0">VENTES</h3>
                      </div>
                    </div>

                    <div class="col-lg-4 text-right d-flex justify-content-end">
                      <select
                        class="nice_Select2 max-width-220 mr-2"
                        id="chart_month"
                      >
                        <option value="1">choisir le mois</option>
                        <% for( month of months) { %> <% if (month.code === new
                        Date().getMonth()+1) { %>
                        <option value="<%= month.code %>" selected>
                          <%= month.nom %>
                        </option>
                        <% } else { %>
                        <option value="<%= month.code %>">
                          <%= month.nom %>
                        </option>
                        <% } %> <% } %>
                      </select>

                      <select
                        class="nice_Select2 max-width-220"
                        id="chart_year"
                      >
                        <option value="1">choisir l'année</option>
                        <% for( year of years) { %> <% if(year === new
                        Date().getFullYear()) { %>
                        <option value="<%= year %>" selected>
                          <%= year %>
                        </option>
                        <% } else { %>

                        <option value="<%= year %>"><%= year %></option>
                        <% } %> <% } %>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="white_card_body">
                  <div id="management_bar"></div>
                </div>
              </div>
            </div>
            <div class="col-xl-4">
              <div class="white_card card_height_100 mb_30 user_crm_wrapper">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="img/crm/businessman.svg" alt="" />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4><%- totalemploye %></h4>
                        <p>Employé</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head crm_bg_1 d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="img/crm/customer.svg" alt="" />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4><%= totalVente %></h4>
                        <p>Total des ventes journalier</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head crm_bg_2 d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="img/crm/infographic.svg" alt="" />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4>
                          <% if(toDayPercent>0) { %>
                          <a href="#" class="text_color_5">
                            <%= `${toDayPercent>0?"+":""}${toDayPercent}`%> %
                          </a>
                          <% } else { %>
                          <a href="#" style="color: rgb(237, 47, 47)">
                            <%= `${toDayPercent>0?"+":""}${toDayPercent}`%> %
                          </a>
                          <% } %>
                        </h4>
                        <p>Evolution des ventes J - 1</p>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="col-lg-6">
                    <div class="single_crm">
                      <div
                        class="crm_head crm_bg_3 d-flex align-items-center justify-content-between"
                      >
                        <div class="thumb">
                          <img src="img/crm/sqr.svg" alt="" />
                        </div>
                        <i class="fas fa-ellipsis-h f_s_11 white_text"></i>
                      </div>
                      <div class="crm_body">
                        <h4>2455</h4>
                        <p>on vera bien ce qu'on va mettre ici</p>
                      </div>
                    </div>
                  </div> -->
                </div>
                <div class="crm_reports_bnner">
                  <div class="row justify-content-end">
                    <!-- <div class="col-lg-6">
                      <h4>E-MAQUIS</h4>
                      <p>je gagnes en temps je me détends.</p>
                      <a href="#"
                        >Voir plus <i class="fas fa-arrow-right"></i>
                      </a>
                    </div> -->
                  </div>
                </div>
              </div>
            </div>

            <div class="col-xl-4">
              <div class="white_card card_height_100 mb_30">
                <div class="white_card_header">
                  <div class="box_header m-0">
                    <div class="main-title">
                      <h3 class="m-0">Objectif à atteindre</h3>
                    </div>
                    <div class="header_more_tool">
                      <div class="dropdown">
                        <span
                          class="dropdown-toggle"
                          id="dropdownMenuButton"
                          data-toggle="dropdown"
                        >
                          <i class="ti-more-alt"></i>
                        </span>
                        <div
                          class="dropdown-menu dropdown-menu-right"
                          aria-labelledby="dropdownMenuButton"
                        >
                          <a class="dropdown-item" href="#">
                            <i class="ti-eye"></i> Voir plus
                          </a>
                          <a class="dropdown-item" href="#">
                            <i class="ti-printer"></i> Print</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="fa fa-download"></i> Download</a
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="white_card_body">
                  <div id="chart-currently"></div>
                  <div class="monthly_plan_wraper">
                    <div
                      class="single_plan d-flex align-items-center justify-content-between"
                    >
                      <div class="plan_left d-flex align-items-center">
                        <div class="thumb">
                          <img src="img/icon2/7.svg" alt="" />
                        </div>
                        <div>
                          <h5>Produit le plus vendu</h5>
                          <span>le produit le plus vendu</span>
                        </div>
                      </div>
                    </div>
                    <div
                      class="single_plan d-flex align-items-center justify-content-between"
                    >
                      <div class="plan_left d-flex align-items-center">
                        <div class="thumb">
                          <img src="img/icon2/6.svg" alt="" />
                        </div>
                        <div>
                          <h5>Total</h5>
                          <span
                            >40 % d'augmentation sur les rapports
                            hebdomadaires</span
                          >
                        </div>
                      </div>
                    </div>
                    <div
                      class="single_plan d-flex align-items-center justify-content-between"
                    >
                      <div class="plan_left d-flex align-items-center">
                        <div class="thumb">
                          <img src="img/icon2/5.svg" alt="" />
                        </div>
                        <div>
                          <h5>Meilleure moyenne de vente</h5>
                          <span>14,45 / 20</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xl-4">
              <div class="white_card card_height_100 mb_30 overflow_hidden">
                <div class="white_card_header">
                  <div class="box_header m-0">
                    <div class="main-title">
                      <h3 class="m-0">Details des ventes</h3>
                    </div>
                    <div class="header_more_tool">
                      <div class="dropdown">
                        <span
                          class="dropdown-toggle"
                          id="dropdownMenuButton"
                          data-toggle="dropdown"
                        >
                          <i class="ti-more-alt"></i>
                        </span>
                        <div
                          class="dropdown-menu dropdown-menu-right"
                          aria-labelledby="dropdownMenuButton"
                        >
                          <a class="dropdown-item" href="#">
                            <i class="ti-eye"></i> Voir plus</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="ti-printer"></i> Print</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="fa fa-download"></i> Download</a
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="white_card_body pb-0">
                  <div class="Sales_Details_plan">
                    <div class="row">
                      <div class="col-lg-6">
                        <div
                          class="single_plan d-flex align-items-center justify-content-between"
                        >
                          <div class="plan_left d-flex align-items-center">
                            <div class="thumb">
                              <img src="img/icon2/3.svg" alt="" />
                            </div>
                            <div>
                              <h5>20 034 FCFA</h5>
                              <span>VIN</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div
                          class="single_plan d-flex align-items-center justify-content-between"
                        >
                          <div class="plan_left d-flex align-items-center">
                            <div class="thumb">
                              <img src="img/icon2/1.svg" alt="" />
                            </div>
                            <div>
                              <h5>70 660 FcFA</h5>
                              <span>CHAMPAGNE</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div
                          class="single_plan d-flex align-items-center justify-content-between"
                        >
                          <div class="plan_left d-flex align-items-center">
                            <div class="thumb">
                              <img src="img/icon2/4.svg" alt="" />
                            </div>
                            <div>
                              <h5>70 660 FcFA</h5>
                              <span>LIMONADE</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div
                          class="single_plan d-flex align-items-center justify-content-between"
                        >
                          <div class="plan_left d-flex align-items-center">
                            <div class="thumb">
                              <img src="img/icon2/2.svg" alt="" />
                            </div>
                            <div>
                              <h5>150 660 FcFA</h5>
                              <span>LIQUEUR</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="chart_wrap overflow_hidden">
                  <div id="chart4"></div>
                </div>
              </div>
            </div>

            <div class="col-lg-4">
              <div class="white_card card_height_100 mb_20">
                <div class="white_card_header">
                  <div class="box_header m-0">
                    <div class="main-title">
                      <h3 class="m-0">Inventaire du stock</h3>
                    </div>
                    <div class="header_more_tool">
                      <div class="dropdown">
                        <span
                          class="dropdown-toggle"
                          id="dropdownMenuButton"
                          data-toggle="dropdown"
                        >
                          <i class="ti-more-alt"></i>
                        </span>
                        <div
                          class="dropdown-menu dropdown-menu-right"
                          aria-labelledby="dropdownMenuButton"
                        >
                          <a class="dropdown-item" href="#">
                            <i class="ti-eye"></i> Action</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="ti-trash"></i> Delete</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="fas fa-edit"></i> Edit</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="ti-printer"></i> Print</a
                          >
                          <a class="dropdown-item" href="#">
                            <i class="fa fa-download"></i> Download</a
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="white_card_body QA_section">
                  <div class="QA_table">
                    <!-- table-responsive -->
                    <table class="table lms_table_active2 p-0">
                      <thead>
                        <tr>
                          <th scope="col">Nom de produit</th>
                          <th scope="col">Prix d'achat</th>
                          <th scope="col">Prix de vente</th>
                          <th scope="col">quantité</th>
                        </tr>
                      </thead>
                      <tbody>
                        <% Tab.forEach(el =>{%>
                        <tr>
                          <td>
                            <div class="customer d-flex align-items-center">
                              <div class="thumb_34 mr_15 mt-0">
                                <img
                                  class="img-fluid radius_50"
                                  src="img/customers/pro_1.png"
                                  alt=""
                                />
                              </div>
                              <span class="f_s_12 f_w_600 color_text_5"
                                ><%= el.produit.nom_produit %></span
                              >
                            </div>
                          </td>
                          <td class="f_s_12 f_w_400 color_text_6">
                            <%= el.prix_achat %> FcFA
                          </td>
                          <td class="f_s_12 f_w_400 color_text_6">
                            <%= el.prix_vente %> FcFA
                          </td>
                          <td class="f_s_12 f_w_400 text-center">
                            <a href="#" class="text_color_1"
                              ><%= el.quantite %></a
                            >
                          </td>
                        </tr>
                        <%})%>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="footer_part">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-12">
              <div class="footer_iner text-center">
                <p>
                  2020 © HNM - Designed by
                  <a href="#"> <i class="ti-gun"></i> </a
                  ><a href="#"> ANIKI</a> - <a href="/faq">FAQ</a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="CHAT_MESSAGE_POPUPBOX">
      <div class="CHAT_POPUP_HEADER">
        <div class="MSEESAGE_CHATBOX_CLOSE">
          <svg
            width="12"
            height="12"
            viewBox="0 0 12 12"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7.09939 5.98831L11.772 10.661C12.076 10.965 12.076 11.4564 11.772 11.7603C11.468 12.0643 10.9766 12.0643 10.6726 11.7603L5.99994 7.08762L1.32737 11.7603C1.02329 12.0643 0.532002 12.0643 0.228062 11.7603C-0.0760207 11.4564 -0.0760207 10.965 0.228062 10.661L4.90063 5.98831L0.228062 1.3156C-0.0760207 1.01166 -0.0760207 0.520226 0.228062 0.216286C0.379534 0.0646715 0.578697 -0.0114918 0.777717 -0.0114918C0.976738 -0.0114918 1.17576 0.0646715 1.32737 0.216286L5.99994 4.889L10.6726 0.216286C10.8243 0.0646715 11.0233 -0.0114918 11.2223 -0.0114918C11.4213 -0.0114918 11.6203 0.0646715 11.772 0.216286C12.076 0.520226 12.076 1.01166 11.772 1.3156L7.09939 5.98831Z"
              fill="white"
            />
          </svg>
        </div>
        <h3>Chat with us</h3>
        <div class="Chat_Listed_member">
          <ul>
            <li>
              <a href="#">
                <div class="member_thumb">
                  <img src="img/staf/1.png" alt="" />
                </div>
              </a>
            </li>
            <li>
              <a href="#">
                <div class="member_thumb">
                  <img src="img/staf/2.png" alt="" />
                </div>
              </a>
            </li>
            <li>
              <a href="#">
                <div class="member_thumb">
                  <img src="img/staf/3.png" alt="" />
                </div>
              </a>
            </li>
            <li>
              <a href="#">
                <div class="member_thumb">
                  <img src="img/staf/4.png" alt="" />
                </div>
              </a>
            </li>
            <li>
              <a href="#">
                <div class="member_thumb">
                  <img src="img/staf/5.png" alt="" />
                </div>
              </a>
            </li>
            <li>
              <a href="#">
                <div class="member_thumb">
                  <div class="more_member_count">
                    <span>90+</span>
                  </div>
                </div>
              </a>
            </li>
          </ul>
        </div>
      </div>
      <div class="CHAT_POPUP_BODY">
        <p class="mesaged_send_date">Sunday, 12 January</p>

        <div class="CHATING_SENDER">
          <div class="SMS_thumb">
            <img src="img/staf/1.png" alt="" />
          </div>
          <div class="SEND_SMS_VIEW">
            <P>Hi! Welcome . How can I help you?</P>
          </div>
        </div>

        <div class="CHATING_SENDER CHATING_RECEIVEr">
          <div class="SEND_SMS_VIEW">
            <P>Hello</P>
          </div>
          <div class="SMS_thumb">
            <img src="img/staf/1.png" alt="" />
          </div>
        </div>
      </div>
      <div class="CHAT_POPUP_BOTTOM">
        <div class="chat_input_box d-flex align-items-center">
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              placeholder="Write your message"
              aria-label="Recipient's username"
              aria-describedby="basic-addon2"
            />
            <div class="input-group-append">
              <button class="btn" type="button">
                <!-- svg      -->
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M18.7821 3.21895C14.4908 -1.07281 7.50882 -1.07281 3.2183 3.21792C-1.07304 7.50864 -1.07263 14.4908 3.21872 18.7824C7.50882 23.0729 14.4908 23.0729 18.7817 18.7815C23.0726 14.4908 23.0724 7.50906 18.7821 3.21895ZM17.5813 17.5815C13.9525 21.2103 8.04773 21.2108 4.41871 17.5819C0.78907 13.9525 0.789485 8.04714 4.41871 4.41832C8.04752 0.789719 13.9521 0.789304 17.5817 4.41874C21.2105 8.04755 21.2101 13.9529 17.5813 17.5815ZM6.89503 8.02162C6.89503 7.31138 7.47107 6.73534 8.18131 6.73534C8.89135 6.73534 9.46739 7.31117 9.46739 8.02162C9.46739 8.73228 8.89135 9.30811 8.18131 9.30811C7.47107 9.30811 6.89503 8.73228 6.89503 8.02162ZM12.7274 8.02162C12.7274 7.31138 13.3038 6.73534 14.0141 6.73534C14.7241 6.73534 15.3002 7.31117 15.3002 8.02162C15.3002 8.73228 14.7243 9.30811 14.0141 9.30811C13.3038 9.30811 12.7274 8.73228 12.7274 8.02162ZM15.7683 13.2898C14.9712 15.1332 13.1043 16.3243 11.0126 16.3243C8.8758 16.3243 6.99792 15.1272 6.22834 13.2744C6.09642 12.9573 6.24681 12.593 6.56438 12.4611C6.64238 12.4289 6.72328 12.4136 6.80293 12.4136C7.04687 12.4136 7.27836 12.5577 7.37772 12.7973C7.95376 14.1842 9.38048 15.0799 11.0126 15.0799C12.6077 15.0799 14.0261 14.1836 14.626 12.7959C14.7625 12.4804 15.1288 12.335 15.4441 12.4717C15.7594 12.6084 15.9048 12.9745 15.7683 13.2898Z"
                    fill="#707DB7"
                  />
                </svg>

                <!-- svg      -->
              </button>
              <button class="btn" type="button">
                <!-- svg  -->
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M11 0.289062C4.92455 0.289062 0 5.08402 0 10.9996C0 16.9152 4.92455 21.7101 11 21.7101C17.0755 21.7101 22 16.9145 22 10.9996C22 5.08472 17.0755 0.289062 11 0.289062ZM11 20.3713C5.68423 20.3713 1.375 16.1755 1.375 10.9996C1.375 5.82371 5.68423 1.62788 11 1.62788C16.3158 1.62788 20.625 5.82371 20.625 10.9996C20.625 16.1755 16.3158 20.3713 11 20.3713ZM15.125 10.3302H11.6875V6.98314C11.6875 6.61363 11.3795 6.31373 11 6.31373C10.6205 6.31373 10.3125 6.61363 10.3125 6.98314V10.3302H6.875C6.4955 10.3302 6.1875 10.6301 6.1875 10.9996C6.1875 11.3691 6.4955 11.669 6.875 11.669H10.3125V15.016C10.3125 15.3855 10.6205 15.6854 11 15.6854C11.3795 15.6854 11.6875 15.3855 11.6875 15.016V11.669H15.125C15.5045 11.669 15.8125 11.3691 15.8125 10.9996C15.8125 10.6301 15.5045 10.3302 15.125 10.3302Z"
                    fill="#707DB7"
                  />
                </svg>

                <!-- svg  -->
                <input type="file" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="back-top" style="display: none">
      <a title="Go to Top" href="#">
        <i class="ti-angle-up"></i>
      </a>
    </div>

    <%- include('partial/script.ejs') %>
    <script src="../jquery-3.4.1.min.js"></script>
    <!-- <script>
      socket.on('loginsuccess', (data) => {
        location.href = data;
      });
    </script> -->

    <script>
       // currently sale
         const date = new Date();
         const month = date.getMonth()+1;
         const year = date.getFullYear();


        const celebriteObjective = ()=>{
              startConfetti(
                  {
                      particleCount: 100,
                      spread: 70,
                      origin: { y: 0.6 }
                  }
            );


          const canvas =   document.getElementsByTagName('canvas');

          if(canvas){
                canvas[0].style.position = 'absolute';
                canvas[0].style.top = '0';
                canvas[0].style.left = '0';
                canvas[0].style.width = '100%';
                canvas[0].style.height = '100%';


                setTimeout(() => {
                  stopConfetti();
                }, 5000);

          }
      }


         const ventes = <%- JSON.stringify(venteByDay) %>;
         const objectivePercent = <%- JSON.stringify(objectivePercent) %>;


         if(localStorage.getItem('celebriteObjective') && localStorage.getItem('celebriteObjectiveDate') != new Date().toLocaleDateString()){
            localStorage.removeItem('celebriteObjective');
            localStorage.removeItem('celebriteObjectiveDate');
         }


        if(objectivePercent == 100 && !localStorage.getItem('celebriteObjective')){
            celebriteObjective();
            localStorage.setItem('celebriteObjective', true);
            localStorage.setItem('celebriteObjectiveDate', new Date().toLocaleDateString());
        }


         const filterLabelsByMonth = (month, year) => {
             return Object.keys(ventes).filter(label=>{
                 const dateSplit = label.split('/');
                 return Number(dateSplit[0]) == month && dateSplit[2] == year;
             });
         }


         const filterVentesValuesByMonth = ( month, year) => {
             return Object.entries(ventes).map((vente) => {
           return [vente[0], vente[1].reduce((acc, val) => acc + val.prix, 0)]
         }).filter(vente=>{
             const dateSplit = vente[0].split('/');
             return Number(dateSplit[0]) == month && dateSplit[2] == year;
         }).sort((a,b)=>{
             if(new Date(a[0]) > new Date(b[0])) return -1;
             if(new Date(a[0]) < new Date(b[0])) return 1;
             return 0;
         }).map((vente) => vente[1]);
         }


         const ventesLabels = filterLabelsByMonth(month,year);


         const ventesValues = filterVentesValuesByMonth(month,year);

       var options = {
         series: [objectivePercent],
         chart: {
           height: 300,
           type: 'radialBar',
           offsetY: 0,
         },
         plotOptions: {
           radialBar: {
             startAngle: -90,
             endAngle: 90,

             hollow: {
               margin: 0,
               size: '70%',
             },
             dataLabels: {
               showOn: 'always',
               name: {
                 show: true,
                 fontSize: '13px',
                 fontWeight: '700',
                 offsetY: -5,
                 color: ['#000000', '#E5ECFF'],
               },
               value: {
                 color: ['#000000', '#E5ECFF'],
                 fontSize: '30px',
                 fontWeight: '700',
                 offsetY: -40,
                 show: true,
               },
             },
             track: {
               background: ['#E5ECFF', '#E5ECFF'],
               strokeWidth: '100%',
             },
           },
         },
         colors: ['#9767FD', '#E5ECFF'],
         stroke: {
           lineCap: 'round',
         },
         labels: ['Progress'],
       };

       var chart = new ApexCharts(
         document.querySelector('#chart-currently'),
         options
       );
       chart.render();

       /* -------------------------------------------------------------------------- */
       /*                                     chart                                    */
       /* -------------------------------------------------------------------------- */

       options = {
         chart: {
           height: 500,
           type: 'line',
           stacked: !1,
           toolbar: { show: !1 },
         },
         stroke: { width: [0, 2, 4], curve: 'smooth' },
         plotOptions: { bar: { columnWidth: '30%' } },
         colors: ['#9767FD', '#dfe2e6', '#f1b44c'],
         series: [
           {
             name: 'total',
             type: 'column',
             data: ventesValues.reverse(),
           },
         //   {
         //     name: 'Laptops',
         //     type: 'area',
         //     data: [44, 55, 41, 67, 22, 43, 21, 41, 56, 27, 43],
         //   },
         //   {
         //     name: 'Tablets',
         //     type: 'line',
         //     data: [130, 25, 36, 30, 45, 35, 64, 52, 59, 36, 39],
         //   },
         ],
         fill: {
           opacity: [0.85, 0.25, 1],
           gradient: {
             inverseColors: !1,
             shade: 'light',
             type: 'vertical',
             opacityFrom: 0.85,
             opacityTo: 0.55,
             stops: [0, 100, 100, 100],
           },
         },
         labels: ventesLabels.reverse(),
         markers: { size: 0 },
         xaxis: { type: 'datetime' },
         yaxis: { title: { text: 'Prix total' } },
         tooltip: {
           shared: !0,
           intersect: !1,
           y: {
             formatter: function (e) {
               return void 0 !== e ? e.toFixed(0) + ' FCFA' : e;
             },
           },
         },
         grid: { borderColor: '#f1f1f1' },
       };
      let chart_management = new ApexCharts(
         document.querySelector('#management_bar'),
         options
       )


       chart_management.render();


       $('#chart_month').on('change',function(){
        console.log(this.value)
        const year = $('#chart_year').val();
        chart_management.updateOptions({
            labels: filterLabelsByMonth(this.value,year).reverse(),
            series: [{
                name: 'total',
                type: 'column',
                data: filterVentesValuesByMonth(this.value,year).reverse(),
            }]
        })
       })


       $('#chart_year').on('change',function(){

        console.log(this.value)
        const month = $('#chart_month').val();
        chart_management.updateOptions({
            labels: filterLabelsByMonth(month,this.value).reverse(),
            series: [{
                name: 'total',
                type: 'column',
                data: filterVentesValuesByMonth(month,this.value).reverse(),
            }]
        })
       })

       // cart area

       // currently sale
       var options = {
         series: [
           {
             name: 'Net Profit',
             data: [30, 25, 45, 30, 55, 55],
           },
         ],
         chart: {
           type: 'area',
           height: 270,
           offsetY: 0,
           toolbar: {
             show: false,
           },
           zoom: {
             enabled: false,
           },
           sparkline: {
             enabled: true,
           },
         },
         plotOptions: {},
         legend: {
           show: false,
         },
         dataLabels: {
           enabled: false,
         },
         fill: {
           type: 'solid',
           opacity: 0.2,
         },
         stroke: {
           curve: 'smooth',
           show: true,
           width: 3,
           colors: ['#9767FD', '#E5ECFF'],
         },
         xaxis: {
           categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
           axisBorder: {
             show: false,
           },
           axisTicks: {
             show: false,
           },
           labels: {
             show: false,
             style: {
               // colors: KTApp.getSettings()['colors']['gray']['gray-500'],
               fontSize: '12px',
               // fontFamily: KTApp.getSettings()['font-family']
             },
           },
           crosshairs: {
             show: false,
             position: 'front',
             stroke: {
               color: ['#9767FD', '#E5ECFF'],
               width: 1,
               dashArray: 3,
             },
           },
           tooltip: {
             enabled: true,
             formatter: undefined,
             offsetY: 0,
             style: {
               fontSize: '12px',
               // fontFamily: KTApp.getSettings()['font-family']
             },
           },
         },
         yaxis: {
           min: 0,
           max: 60,
           labels: {
             show: false,
             style: {
               // colors: KTApp.getSettings()['colors']['gray']['gray-500'],
               fontSize: '12px',
               // fontFamily: KTApp.getSettings()['font-family']
             },
           },
         },
         states: {
           normal: {
             filter: {
               type: 'none',
               value: 0,
             },
           },
           hover: {
             filter: {
               type: 'none',
               value: 0,
             },
           },
           active: {
             allowMultipleDataPointsSelection: false,
             filter: {
               type: 'none',
               value: 0,
             },
           },
         },
         tooltip: {
           style: {
             fontSize: '12px',
             // fontFamily: KTApp.getSettings()['font-family']
           },
           y: {
             formatter: function (val) {
               return '$' + val + ' thousands';
             },
           },
         },
         colors: ['#9767FD', '#E5ECFF'],
         markers: {
           colors: ['#9767FD', '#E5ECFF'],
           strokeColor: ['#9767FD', '#E5ECFF'],
           strokeWidth: 3,
         },
       };

       var chart = new ApexCharts(document.querySelector('#chart4'), options);
       chart.render();
    </script>
  </body>
</html>
