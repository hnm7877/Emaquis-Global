<script type="application/javascript">
    
// Récupération des données depuis le serveur
let employeLength = <%- JSON.stringify(totalemploye) %>;
const produits = <%- JSON.stringify(Tab) %>;

// Sélection des éléments du DOM
let notificationCount = document.querySelector('.containerBell #countNotyf');
let notificationListUl = document.querySelector('.modal-body-notyf');
let belleRegular = document.querySelector('.containerBell .bell2');




// Tableau des notifications
let notifications = [];

// Initialisation de l'objet Notyf
let notyf = new Notyf({
    types: [
        {
            type: 'success',
            background: 'orange',
            icon: {
                className: 'fas fa-user',
                tagName: 'i',
                color: 'white',
                fontSize: '20px'
            }
        },
        {
            type: 'error',
            background: 'red',
            icon: {
                className: 'fas fa-exclamation-triangle',
                tagName: 'i',
                color: 'white',
                fontSize: '20px'
            },
            position: {
                y: 'top',
            },
            dismissible: true,
        },
        {
            type: 'black',  
            background: 'black',
            icon: {
                className: 'fas fa-frown',
                tagName: 'i',
                color: 'white',
                fontSize: '20px'
            }
        },
        {
            type: 'info',
            background: 'blue',
            dismissible: true,
            icon: {
                className: 'fas fa-user-plus',
                tagName: 'i',
                color: 'white',
                fontSize: '20px'
            }
        }
    ]
});
// Fonction pour afficher une notification
const showNotification = (message, type) => {
    notyf.open({
        type,
        message: message,
        duration: 5000,
        dismissible: true,
        position: {
            y: 'top',
            x: 'right',
        }
    });
}

const notyfEmploye = () => {
    if (employeLength.length < 0) {
        showNotification(`Ajouter vos employés`, 'black');
        
    }
}

const notyfProduit = () => {
    if (produits.length < 0) {
        showNotification(`Ajouter vos produits`, 'black');
        
    }
}

// Fonction pour afficher le nombre de notifications
const showNotificationCount = () => {
    notificationCount.innerHTML = notifications.length;
    belleRegular.classList.add('active');
}

// Fonction pour afficher la liste des notifications
const showNotificationList = () => {
    notificationListUl.innerHTML = '';
    notifications.forEach(notification => {
        let li = document.createElement('li');
        li.classList.add('notification');
        li.innerHTML = notification;
        notificationListUl.appendChild(li);
    });
}

// Fonction pour ajouter une notification

const addNotification = (message, type) => {
    notifications.push(message);
    showNotificationCount();
    showNotificationList();
    showNotification(message, type);
}

// Fonction pour supprimer une notification

const removeNotification = () => {
    notifications.pop();
    showNotificationCount();
    showNotificationList();
}

// Fonction pour supprimer toutes les notifications

const removeAllNotifications = () => {
    notifications = [];
    showNotificationCount();
    showNotificationList();
}




</script>






