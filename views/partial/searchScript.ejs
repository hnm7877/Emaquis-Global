<script>
  $(document).ready(() => {
    const input = $('#search');
    const searchBtn = $('#search__btn');

    if ($('table') && $('table').DataTable) {
      const table = $('table').DataTable();

      const order = $('table').data('order') || [];
      const orderColumn = order[0] ? order[0][0] : 0;
      const orderDirection = order[0] ? order[0][1] : 'desc';
      table.destroy();

      $('.dataTables_info').hide();

      const list = $('table').DataTable({
        scrollX: true,
        order: [[orderColumn, orderDirection]],
      });

      searchBtn.on('click', () => {
        const search = input.val();
        list.search(search).draw();
      });
    }
  });
</script>